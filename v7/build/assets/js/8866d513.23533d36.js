"use strict";(self.webpackChunkgh_pages=self.webpackChunkgh_pages||[]).push([[452],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=c(r),m=o,g=p["".concat(l,".").concat(m)]||p[m]||u[m]||a;return r?n.createElement(g,s(s({ref:t},d),{},{components:r})):n.createElement(g,s({ref:t},d))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},3919:(e,t,r)=>{function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!n(e)}r.d(t,{b:()=>n,Z:()=>o})},4996:(e,t,r)=>{r.d(t,{C:()=>a,Z:()=>s});var n=r(2263),o=r(3919);function a(){const{siteConfig:{baseUrl:e="/",url:t}={}}=(0,n.Z)();return{withBaseUrl:(r,n)=>function(e,t,r,{forcePrependBaseUrl:n=!1,absolute:a=!1}={}){if(!r)return r;if(r.startsWith("#"))return r;if((0,o.b)(r))return r;if(n)return t+r;const s=r.startsWith(t)?r:t+r.replace(/^\//,"");return a?e+s:s}(t,e,r,n)}}function s(e,t={}){const{withBaseUrl:r}=a();return r(e,t)}},9744:(e,t,r)=>{r.r(t),r.d(t,{frontMatter:()=>a,contentTitle:()=>s,metadata:()=>i,toc:()=>l,default:()=>d});var n=r(4034),o=(r(7294),r(3905));r(4996);const a={id:"jsdos-save-load",title:"Save/Load"},s=void 0,i={unversionedId:"jsdos-save-load",id:"jsdos-save-load",isDocsHomePage:!1,title:"Save/Load",description:"js-dos supports saving and restoring game progress. You can play game from time to time",source:"@site/docs/jsdos-save-load.md",sourceDirName:".",slug:"/jsdos-save-load",permalink:"/v7/build/docs/jsdos-save-load",editUrl:"https://github.com/caiiiycuk/js-dos/edit/gh-pages/v7/docs/jsdos-save-load.md",tags:[],version:"current",frontMatter:{id:"jsdos-save-load",title:"Save/Load"},sidebar:"someSidebar",previous:{title:"Mouse locking",permalink:"/v7/build/docs/mouse-locking"},next:{title:"Command Interface (CI)",permalink:"/v7/build/docs/command-interface"}},l=[{value:"How to trigger saving",id:"how-to-trigger-saving",children:[]}],c={toc:l};function d({components:e,...t}){return(0,o.kt)("wrapper",(0,n.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"js-dos supports saving and restoring game progress. You can play game from time to time\nwithout losing progress. It's working automatically while you don't change bundle url."),(0,o.kt)("p",null,"This feature works by dumping changes in file system into second ",(0,o.kt)("inlineCode",{parentName:"p"},"bundle")," and use it to override original file system on next load. You can read more about actual implementation ",(0,o.kt)("a",{parentName:"p",href:"/v7/build/docs/save-load"},"here"),"."),(0,o.kt)("p",null,"Save/Load feature works automatically whenever player press save icon, or exiting the game. However, game itself should support storing progress. Because, ",(0,o.kt)("strong",{parentName:"p"},"js-dos is only storing changes in file system"),"."),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"By default, js-dos store game progress in indexed db of browser. This data can be wiped at any moment by browser. You can avoid this problem using js-dos ",(0,o.kt)("a",{parentName:"p",href:"/v7/build/docs/cloud/"},"cloud services"),"."))),(0,o.kt)("h2",{id:"how-to-trigger-saving"},"How to trigger saving"),(0,o.kt)("p",null,"If you want to trigger saving FS changes, please use this API:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"    const dos = Dos(<element>);\n    // ...\n    await dos.layers.save();\n")))}d.isMDXComponent=!0}}]);