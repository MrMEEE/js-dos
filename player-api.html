<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-26T17:49:31.967785"><title>Player API | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"options","level":0,"title":"Options","anchor":"#options"},{"id":"dosprops","level":0,"title":"DosProps","anchor":"#dosprops"},{"id":"events","level":0,"title":"Events","anchor":"#events"},{"id":"typescript","level":0,"title":"Typescript","anchor":"#typescript"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Player API | js-dos"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/player-api.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Player API | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/player-api.html#webpage",
    "url": "https://js-dos.com//8.xx/player-api.html",
    "name": "Player API | js-dos",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="Player-API" data-main-title="Player API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Player-API" id="Player-API.md">Player API</h1><p id="whr9bg_22423">js-dos player provide single entry point a <code class="code" id="whr9bg_22424">Dos</code> function, it takes two arguments:</p><ol class="list _decimal" id="whr9bg_22425" type="1"><li class="list__item" id="whr9bg_22426"><p>element where to create player window</p></li><li class="list__item" id="whr9bg_22427"><p>options object to configure player</p></li></ol><div class="code-block" data-lang="ts">
Dos(element: HTMLDivElement, options: DosOptions) =&gt; DosProps;
</div><p id="whr9bg_22429">It returns <code class="code" id="whr9bg_22430">DosProps</code> to control created object</p><section class="chapter"><h2 id="options" data-toc="options">Options</h2><div class="table-wrapper"><table class="wide" id="whr9bg_22431"><thead><tr class="ijRowHead" id="whr9bg_22432"><th id="whr9bg_22433"><p>option</p></th><th id="whr9bg_22434"><p>description</p></th><th id="whr9bg_22435"><p>type</p></th><th id="whr9bg_22436"><p>default</p></th></tr></thead><tbody><tr id="whr9bg_22437"><td id="whr9bg_22438"><p><span class="control" id="whr9bg_22439">url</span></p></td><td id="whr9bg_22440"><p>url to <a href="jsdos-bundle.html" id="whr9bg_22441" data-tooltip="Starting from js-dos v7, the API expects a js-dos bundle that already contains all configuration needed to start the DOS program. js-dos bundle is just a ZIP archive that contains the game itself and a js-dos configuration file (same as dosbox.conf file). For example, digger.jsdos…">js-dos bundle</a></p></td><td id="whr9bg_22442"><p>URL</p></td><td id="whr9bg_22443"></td></tr><tr id="whr9bg_22444"><td id="whr9bg_22445"><p><span class="control" id="whr9bg_22446">dosboxConf</span></p></td><td id="whr9bg_22447"><p>if you omit url this will be used to configure DOSBox</p></td><td id="whr9bg_22448"><p>str</p></td><td id="whr9bg_22449"></td></tr><tr id="whr9bg_22450"><td id="whr9bg_22451"><p><span class="control" id="whr9bg_22452">background</span></p></td><td id="whr9bg_22453"><p>background image of player window</p></td><td id="whr9bg_22454"><p>URL</p></td><td id="whr9bg_22455"></td></tr><tr id="whr9bg_22456"><td id="whr9bg_22457"><p><span class="control" id="whr9bg_22458">pathPrefix</span></p></td><td id="whr9bg_22459"><p>a way to set different path for <a href="emulators.html" id="whr9bg_22460" data-tooltip="emulators - npm package, that provide emulator backends which can work in different environments. It is a core of js-dos, emulators has standardized api and can run emulation in different environments. Perfect solution for custom embedding.">emulators</a> deployment</p></td><td id="whr9bg_22461"><p>str</p></td><td id="whr9bg_22462"></td></tr><tr id="whr9bg_22463"><td id="whr9bg_22464"><p><span class="control" id="whr9bg_22465">theme</span></p></td><td id="whr9bg_22466"><p>the color theme of player</p></td><td id="whr9bg_22467"><p>light, dark, cupcake, bumblebee, emerald, corporate, synthwave, retro, cyberpunk, valentine, halloween, garden, forest, aqua, lofi, pastel, fantasy, wireframe, black, luxury, dracula, cmyk, autumn, business, acid, lemonade, night, coffee, winter</p></td><td id="whr9bg_22468"><p>dark</p></td></tr><tr id="whr9bg_22469"><td id="whr9bg_22470"><p><span class="control" id="whr9bg_22471">lang</span></p></td><td id="whr9bg_22472"><p>language</p></td><td id="whr9bg_22473"><p>en, ru</p></td><td id="whr9bg_22474"><p>auto</p></td></tr><tr id="whr9bg_22475"><td id="whr9bg_22476"><p><span class="control" id="whr9bg_22477">backend</span></p></td><td id="whr9bg_22478"><p>default backend</p></td><td id="whr9bg_22479"><p>dosbox, dosboxX</p></td><td id="whr9bg_22480"><p>dosbox</p></td></tr><tr id="whr9bg_22481"><td id="whr9bg_22482"><p><span class="control" id="whr9bg_22483">backendLocked</span></p></td><td id="whr9bg_22484"><p>possibility to change backend from UI</p></td><td id="whr9bg_22485"><p>bool</p></td><td id="whr9bg_22486"><p>false</p></td></tr><tr id="whr9bg_22487"><td id="whr9bg_22488"><p><span class="control" id="whr9bg_22489">backendHardware</span></p></td><td id="whr9bg_22490"><p>reserved</p></td><td id="whr9bg_22491"><p>-</p></td><td id="whr9bg_22492"></td></tr><tr id="whr9bg_22493"><td id="whr9bg_22494"><p><span class="control" id="whr9bg_22495">workerThread</span></p></td><td id="whr9bg_22496"><p>use Worker</p></td><td id="whr9bg_22497"><p>bool</p></td><td id="whr9bg_22498"><p>true</p></td></tr><tr id="whr9bg_22499"><td id="whr9bg_22500"><p><span class="control" id="whr9bg_22501">mouseCapture</span></p></td><td id="whr9bg_22502"><p>lock the mouse in player window</p></td><td id="whr9bg_22503"><p>bool</p></td><td id="whr9bg_22504"><p>false</p></td></tr><tr id="whr9bg_22505"><td id="whr9bg_22506"><p><span class="control" id="whr9bg_22507">server</span></p></td><td id="whr9bg_22508"><p>ipx server</p></td><td id="whr9bg_22509"><p>netherlands, newyork, singapore</p></td><td id="whr9bg_22510"><p>netherlands</p></td></tr><tr id="whr9bg_22511"><td id="whr9bg_22512"><p><span class="control" id="whr9bg_22513">room</span></p></td><td id="whr9bg_22514"><p>ipx room</p></td><td id="whr9bg_22515"><p>str</p></td><td id="whr9bg_22516"></td></tr><tr id="whr9bg_22517"><td id="whr9bg_22518"><p><span class="control" id="whr9bg_22519">fullScreen</span></p></td><td id="whr9bg_22520"><p>auto enter fullscreen mode</p></td><td id="whr9bg_22521"><p>bool</p></td><td id="whr9bg_22522"><p>false</p></td></tr><tr id="whr9bg_22523"><td id="whr9bg_22524"><p><span class="control" id="whr9bg_22525">onEvent</span></p></td><td id="whr9bg_22526"><p>listener of js-dos events</p></td><td id="whr9bg_22527"><p>function</p></td><td id="whr9bg_22528"></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="whr9bg_22529"><p id="whr9bg_22530">All options are optional</p></aside></section><section class="chapter"><h2 id="dosprops" data-toc="dosprops">DosProps</h2><p id="whr9bg_22531">DosProps is a properties that you can use to control player after creation, use it like this:</p><div class="code-block" data-lang="javascript">
cost props = Dos(elem, options);
props.setFullScreen(true); // switch to fullscreen mode
</div><div class="table-wrapper"><table class="wide" id="whr9bg_22533"><thead><tr class="ijRowHead" id="whr9bg_22534"><th id="whr9bg_22535"><p>property</p></th><th id="whr9bg_22536"><p>description</p></th><th id="whr9bg_22537"><p>arguments</p></th></tr></thead><tbody><tr id="whr9bg_22538"><td id="whr9bg_22539"><p><span class="control" id="whr9bg_22540">setTheme</span></p></td><td id="whr9bg_22541"><p>switch player theme</p></td><td id="whr9bg_22542"><p>theme name</p></td></tr><tr id="whr9bg_22543"><td id="whr9bg_22544"><p><span class="control" id="whr9bg_22545">setLang</span></p></td><td id="whr9bg_22546"><p>change language</p></td><td id="whr9bg_22547"><p>en, ru</p></td></tr><tr id="whr9bg_22548"><td id="whr9bg_22549"><p><span class="control" id="whr9bg_22550">setBackend</span></p></td><td id="whr9bg_22551"><p>change backend</p></td><td id="whr9bg_22552"><p>dosbox, dosboxX</p></td></tr><tr id="whr9bg_22553"><td id="whr9bg_22554"><p><span class="control" id="whr9bg_22555">setBackendLocked</span></p></td><td id="whr9bg_22556"><p>change is backend locked or not</p></td><td id="whr9bg_22557"><p>bool</p></td></tr><tr id="whr9bg_22558"><td id="whr9bg_22559"><p><span class="control" id="whr9bg_22560">setWorkerThread</span></p></td><td id="whr9bg_22561"><p>select execution mode</p></td><td id="whr9bg_22562"><p>bool</p></td></tr><tr id="whr9bg_22563"><td id="whr9bg_22564"><p><span class="control" id="whr9bg_22565">setMouseCapture</span></p></td><td id="whr9bg_22566"><p>set is mouse captured or not</p></td><td id="whr9bg_22567"><p>bool</p></td></tr><tr id="whr9bg_22568"><td id="whr9bg_22569"><p><span class="control" id="whr9bg_22570">setServer</span></p></td><td id="whr9bg_22571"><p>change ipx server</p></td><td id="whr9bg_22572"><p>str</p></td></tr><tr id="whr9bg_22573"><td id="whr9bg_22574"><p><span class="control" id="whr9bg_22575">setRoom</span></p></td><td id="whr9bg_22576"><p>change ipx room</p></td><td id="whr9bg_22577"><p>str</p></td></tr><tr id="whr9bg_22578"><td id="whr9bg_22579"><p><span class="control" id="whr9bg_22580">setFrame</span></p></td><td id="whr9bg_22581"><p>open named sidebar panel</p></td><td id="whr9bg_22582"><p>network</p></td></tr><tr id="whr9bg_22583"><td id="whr9bg_22584"><p><span class="control" id="whr9bg_22585">setBackground</span></p></td><td id="whr9bg_22586"><p>change background image</p></td><td id="whr9bg_22587"><p>URL</p></td></tr><tr id="whr9bg_22588"><td id="whr9bg_22589"><p>**setFullScreen</p></td><td id="whr9bg_22590"><p>change fullscreen mode</p></td><td id="whr9bg_22591"><p>bool</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="events" data-toc="events">Events</h2><p id="whr9bg_22592">You can listen js-dos event by providing listener in Dos function:</p><div class="code-block" data-lang="javascript">
Dos(elem, {
    onEvent: (event , ci?: [[[CommandInterface|command-interface.html]]]) =&gt; {
       console.log(&quot;js-dos event&quot;, event); 
    }
});
</div><div class="table-wrapper"><table class="wide" id="whr9bg_22594"><thead><tr class="ijRowHead" id="whr9bg_22595"><th id="whr9bg_22596"><p>order</p></th><th id="whr9bg_22597"><p>event</p></th><th id="whr9bg_22598"><p>description</p></th><th id="whr9bg_22599"><p>args</p></th></tr></thead><tbody><tr id="whr9bg_22600"><td id="whr9bg_22601"><p>0</p></td><td id="whr9bg_22602"><p><span class="control" id="whr9bg_22603">emu-ready</span></p></td><td id="whr9bg_22604"><p>when emulators are fully loaded and ready to run the program</p></td><td id="whr9bg_22605"></td></tr><tr id="whr9bg_22606"><td id="whr9bg_22607"><p>1</p></td><td id="whr9bg_22608"><p><span class="control" id="whr9bg_22609">bnd-play</span></p></td><td id="whr9bg_22610"><p>when play button is clicked</p></td><td id="whr9bg_22611"></td></tr><tr id="whr9bg_22612"><td id="whr9bg_22613"><p>2</p></td><td id="whr9bg_22614"><p><span class="control" id="whr9bg_22615">ci-ready</span></p></td><td id="whr9bg_22616"><p>when backend is started and <a href="command-interface.html" id="whr9bg_22617" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a> is available</p></td><td id="whr9bg_22618"><p><a href="command-interface.html" id="whr9bg_22619" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a></p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="typescript" data-toc="typescript">Typescript</h2><p id="whr9bg_22620">js-dos provide Typescript types <a href="https://github.com/caiiiycuk/js-dos/blob/8.xx/src/public/types.ts" id="whr9bg_22621" data-external="true" rel="noopener noreferrer">declaration</a>. Just put it somewhere in your codebase, and declare Dos function:</p><div class="code-block" data-lang="ts">
import {DosFn} from &quot;types&quot;;

declare const Dos: DosFn;

// ...

Dos(element, options)
</div><div class="code-collapse" data-lang="ts" data-is-expanded="false" data-synopsis="types.ts" data-disable-link-processing="true">export interface DosOptions {
    url: string,
    dosboxConf: string,
    background: string,
    pathPrefix: string,
    theme: &quot;light&quot; | &quot;dark&quot; | &quot;cupcake&quot; | &quot;bumblebee&quot; | &quot;emerald&quot; | &quot;corporate&quot; |
    &quot;synthwave&quot; | &quot;retro&quot; | &quot;cyberpunk&quot; | &quot;valentine&quot; | &quot;halloween&quot; | &quot;garden&quot; |
    &quot;forest&quot; | &quot;aqua&quot; | &quot;lofi&quot; | &quot;pastel&quot; | &quot;fantasy&quot; | &quot;wireframe&quot; | &quot;black&quot; |
    &quot;luxury&quot; | &quot;dracula&quot; | &quot;cmyk&quot; | &quot;autumn&quot; | &quot;business&quot; | &quot;acid&quot; | &quot;lemonade&quot; |
    &quot;night&quot; | &quot;coffee&quot; | &quot;winter&quot;,
    lang: &quot;ru&quot; | &quot;en&quot;,
    backend: &quot;dosbox&quot; | &quot;dosboxX&quot;,
    backendLocked: boolean,
    backendHardware: ((backend: &quot;dosbox&quot; | &quot;dosboxX&quot;) =&gt; Promise&lt;string | null&gt;),
    workerThread: boolean,
    mouseCapture: boolean,
    onEvent: (event: &quot;emu-ready&quot; | &quot;ci-ready&quot; | &quot;bnd-play&quot;, ci?: any) =&gt; void,
    server: &quot;netherlands&quot; | &quot;newyork&quot; | &quot;singapore&quot;,
    room: string,
    fullScreen: boolean,
}

export interface DosProps {
    setTheme(theme: DosOptions[&quot;theme&quot;]): void;
    setLang(lang: DosOptions[&quot;lang&quot;]): void;
    setBackend(backend: DosOptions[&quot;backend&quot;]): void;
    setBackendLocked(locked: boolean): void;
    setWorkerThread(capture: DosOptions[&quot;workerThread&quot;]): void;
    setMouseCapture(capture: DosOptions[&quot;mouseCapture&quot;]): void;
    setServer(server: DosOptions[&quot;server&quot;]): void;
    setRoom(room: DosOptions[&quot;room&quot;]): void;
    setFrame(frame: &quot;network&quot;): void;
    setBackground(background: string | null): void;
    setFullScreen(fullScreen: boolean): void;
}

export type DosFn = (element: HTMLDivElement, options: Partial&lt;DosOptions&gt;) =&gt; DosProps;

// declare const Dos: DosFn;
</div></section><div class="last-modified">Last modified: 26 апреля 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="save-load-game-progress.html" class="navigation-links__prev">Save/Load</a><a href="v7.html" class="navigation-links__next">js-dos v7</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>