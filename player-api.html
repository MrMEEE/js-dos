<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-06-14T21:29:30.8126804"><title>Player API | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"options","level":0,"title":"Options","anchor":"#options"},{"id":"dosprops","level":0,"title":"DosProps","anchor":"#dosprops"},{"id":"events","level":0,"title":"Events","anchor":"#events"},{"id":"typescript","level":0,"title":"Typescript","anchor":"#typescript"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Player API | js-dos"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/player-api.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Player API | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/player-api.html#webpage",
    "url": "https://js-dos.com//8.xx/player-api.html",
    "name": "Player API | js-dos",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="Player-API" data-main-title="Player API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Player-API" id="Player-API.md">Player API</h1><p id="-2ej0u7_2">js-dos player provide single entry point a <code class="code" id="-2ej0u7_3">Dos</code> function, it takes two arguments:</p><ol class="list _decimal" id="-2ej0u7_4" type="1"><li class="list__item" id="-2ej0u7_5"><p>element where to create player window</p></li><li class="list__item" id="-2ej0u7_6"><p>options object to configure player</p></li></ol><div class="code-block" data-lang="ts">
Dos(element: HTMLDivElement, options: DosOptions) =&gt; DosProps;
</div><p id="-2ej0u7_8">It returns <code class="code" id="-2ej0u7_9">DosProps</code> to control created object</p><section class="chapter"><h2 id="options" data-toc="options">Options</h2><div class="table-wrapper"><table class="wide" id="-2ej0u7_10"><thead><tr class="ijRowHead" id="-2ej0u7_11"><th id="-2ej0u7_12"><p>option</p></th><th id="-2ej0u7_13"><p>description</p></th><th id="-2ej0u7_14"><p>type</p></th><th id="-2ej0u7_15"><p>default</p></th></tr></thead><tbody><tr id="-2ej0u7_16"><td id="-2ej0u7_17"><p><span class="control" id="-2ej0u7_18">url</span></p></td><td id="-2ej0u7_19"><p>url to <a href="jsdos-bundle.html" id="-2ej0u7_20" data-tooltip="Starting from js-dos v7, the API expects a js-dos bundle that already contains all configuration needed to start the DOS program. js-dos bundle is just a ZIP archive that contains the game itself and a js-dos configuration file (same as dosbox.conf file). For example, digger.jsdos…">js-dos bundle</a></p></td><td id="-2ej0u7_21"><p>URL</p></td><td id="-2ej0u7_22"></td></tr><tr id="-2ej0u7_23"><td id="-2ej0u7_24"><p><span class="control" id="-2ej0u7_25">dosboxConf</span></p></td><td id="-2ej0u7_26"><p>if you omit url this will be used to configure DOSBox</p></td><td id="-2ej0u7_27"><p>str</p></td><td id="-2ej0u7_28"></td></tr><tr id="-2ej0u7_29"><td id="-2ej0u7_30"><p><span class="control" id="-2ej0u7_31">background</span></p></td><td id="-2ej0u7_32"><p>background image of player window</p></td><td id="-2ej0u7_33"><p>URL</p></td><td id="-2ej0u7_34"></td></tr><tr id="-2ej0u7_35"><td id="-2ej0u7_36"><p><span class="control" id="-2ej0u7_37">pathPrefix</span></p></td><td id="-2ej0u7_38"><p>a way to set different path for <a href="emulators.html" id="-2ej0u7_39" data-tooltip="emulators - npm package, that provide emulator backends which can work in different environments. It is a core of js-dos, emulators has standardized api and can run emulation in different environments. Perfect solution for custom embedding.">emulators</a> deployment</p></td><td id="-2ej0u7_40"><p>str</p></td><td id="-2ej0u7_41"></td></tr><tr id="-2ej0u7_42"><td id="-2ej0u7_43"><p><span class="control" id="-2ej0u7_44">theme</span></p></td><td id="-2ej0u7_45"><p>the color theme of player</p></td><td id="-2ej0u7_46"><p>light, dark, cupcake, bumblebee, emerald, corporate, synthwave, retro, cyberpunk, valentine, halloween, garden, forest, aqua, lofi, pastel, fantasy, wireframe, black, luxury, dracula, cmyk, autumn, business, acid, lemonade, night, coffee, winter</p></td><td id="-2ej0u7_47"><p>dark</p></td></tr><tr id="-2ej0u7_48"><td id="-2ej0u7_49"><p><span class="control" id="-2ej0u7_50">lang</span></p></td><td id="-2ej0u7_51"><p>language</p></td><td id="-2ej0u7_52"><p>en, ru</p></td><td id="-2ej0u7_53"><p>auto</p></td></tr><tr id="-2ej0u7_54"><td id="-2ej0u7_55"><p><span class="control" id="-2ej0u7_56">backend</span></p></td><td id="-2ej0u7_57"><p>default backend</p></td><td id="-2ej0u7_58"><p>dosbox, dosboxX</p></td><td id="-2ej0u7_59"><p>dosbox</p></td></tr><tr id="-2ej0u7_60"><td id="-2ej0u7_61"><p><span class="control" id="-2ej0u7_62">backendLocked</span></p></td><td id="-2ej0u7_63"><p>possibility to change backend from UI</p></td><td id="-2ej0u7_64"><p>bool</p></td><td id="-2ej0u7_65"><p>false</p></td></tr><tr id="-2ej0u7_66"><td id="-2ej0u7_67"><p><span class="control" id="-2ej0u7_68">backendHardware</span></p></td><td id="-2ej0u7_69"><p>reserved</p></td><td id="-2ej0u7_70"><p>-</p></td><td id="-2ej0u7_71"></td></tr><tr id="-2ej0u7_72"><td id="-2ej0u7_73"><p><span class="control" id="-2ej0u7_74">workerThread</span></p></td><td id="-2ej0u7_75"><p>use Worker</p></td><td id="-2ej0u7_76"><p>bool</p></td><td id="-2ej0u7_77"><p>true</p></td></tr><tr id="-2ej0u7_78"><td id="-2ej0u7_79"><p><span class="control" id="-2ej0u7_80">mouseCapture</span></p></td><td id="-2ej0u7_81"><p>lock the mouse in player window</p></td><td id="-2ej0u7_82"><p>bool</p></td><td id="-2ej0u7_83"><p>false</p></td></tr><tr id="-2ej0u7_84"><td id="-2ej0u7_85"><p><span class="control" id="-2ej0u7_86">server</span></p></td><td id="-2ej0u7_87"><p>ipx server</p></td><td id="-2ej0u7_88"><p>netherlands, newyork, singapore</p></td><td id="-2ej0u7_89"><p>netherlands</p></td></tr><tr id="-2ej0u7_90"><td id="-2ej0u7_91"><p><span class="control" id="-2ej0u7_92">room</span></p></td><td id="-2ej0u7_93"><p>ipx room</p></td><td id="-2ej0u7_94"><p>str</p></td><td id="-2ej0u7_95"></td></tr><tr id="-2ej0u7_96"><td id="-2ej0u7_97"><p><span class="control" id="-2ej0u7_98">fullScreen</span></p></td><td id="-2ej0u7_99"><p>auto enter fullscreen mode</p></td><td id="-2ej0u7_100"><p>bool</p></td><td id="-2ej0u7_101"><p>false</p></td></tr><tr id="-2ej0u7_102"><td id="-2ej0u7_103"><p><span class="control" id="-2ej0u7_104">onEvent</span></p></td><td id="-2ej0u7_105"><p>listener of js-dos events</p></td><td id="-2ej0u7_106"><p>function</p></td><td id="-2ej0u7_107"></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="-2ej0u7_108"><p id="-2ej0u7_109">All options are optional</p></aside></section><section class="chapter"><h2 id="dosprops" data-toc="dosprops">DosProps</h2><p id="-2ej0u7_110">DosProps is a properties that you can use to control player after creation, use it like this:</p><div class="code-block" data-lang="javascript">
cost props = Dos(elem, options);
props.setFullScreen(true); // switch to fullscreen mode
</div><div class="table-wrapper"><table class="wide" id="-2ej0u7_112"><thead><tr class="ijRowHead" id="-2ej0u7_113"><th id="-2ej0u7_114"><p>property</p></th><th id="-2ej0u7_115"><p>description</p></th><th id="-2ej0u7_116"><p>arguments</p></th></tr></thead><tbody><tr id="-2ej0u7_117"><td id="-2ej0u7_118"><p><span class="control" id="-2ej0u7_119">setTheme</span></p></td><td id="-2ej0u7_120"><p>switch player theme</p></td><td id="-2ej0u7_121"><p>theme name</p></td></tr><tr id="-2ej0u7_122"><td id="-2ej0u7_123"><p><span class="control" id="-2ej0u7_124">setLang</span></p></td><td id="-2ej0u7_125"><p>change language</p></td><td id="-2ej0u7_126"><p>en, ru</p></td></tr><tr id="-2ej0u7_127"><td id="-2ej0u7_128"><p><span class="control" id="-2ej0u7_129">setBackend</span></p></td><td id="-2ej0u7_130"><p>change backend</p></td><td id="-2ej0u7_131"><p>dosbox, dosboxX</p></td></tr><tr id="-2ej0u7_132"><td id="-2ej0u7_133"><p><span class="control" id="-2ej0u7_134">setBackendLocked</span></p></td><td id="-2ej0u7_135"><p>change is backend locked or not</p></td><td id="-2ej0u7_136"><p>bool</p></td></tr><tr id="-2ej0u7_137"><td id="-2ej0u7_138"><p><span class="control" id="-2ej0u7_139">setWorkerThread</span></p></td><td id="-2ej0u7_140"><p>select execution mode</p></td><td id="-2ej0u7_141"><p>bool</p></td></tr><tr id="-2ej0u7_142"><td id="-2ej0u7_143"><p><span class="control" id="-2ej0u7_144">setMouseCapture</span></p></td><td id="-2ej0u7_145"><p>set is mouse captured or not</p></td><td id="-2ej0u7_146"><p>bool</p></td></tr><tr id="-2ej0u7_147"><td id="-2ej0u7_148"><p><span class="control" id="-2ej0u7_149">setServer</span></p></td><td id="-2ej0u7_150"><p>change ipx server</p></td><td id="-2ej0u7_151"><p>str</p></td></tr><tr id="-2ej0u7_152"><td id="-2ej0u7_153"><p><span class="control" id="-2ej0u7_154">setRoom</span></p></td><td id="-2ej0u7_155"><p>change ipx room</p></td><td id="-2ej0u7_156"><p>str</p></td></tr><tr id="-2ej0u7_157"><td id="-2ej0u7_158"><p><span class="control" id="-2ej0u7_159">setFrame</span></p></td><td id="-2ej0u7_160"><p>open named sidebar panel</p></td><td id="-2ej0u7_161"><p>network</p></td></tr><tr id="-2ej0u7_162"><td id="-2ej0u7_163"><p><span class="control" id="-2ej0u7_164">setBackground</span></p></td><td id="-2ej0u7_165"><p>change background image</p></td><td id="-2ej0u7_166"><p>URL</p></td></tr><tr id="-2ej0u7_167"><td id="-2ej0u7_168"><p><span class="control" id="-2ej0u7_169">setFullScreen</span></p></td><td id="-2ej0u7_170"><p>change fullscreen mode</p></td><td id="-2ej0u7_171"><p>bool</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="events" data-toc="events">Events</h2><p id="-2ej0u7_172">You can listen js-dos event by providing listener in Dos function:</p><div class="code-block" data-lang="javascript">
Dos(elem, {
    onEvent: (event , ci?: [[[CommandInterface|command-interface.html]]]) =&gt; {
       console.log(&quot;js-dos event&quot;, event); 
    }
});
</div><div class="table-wrapper"><table class="wide" id="-2ej0u7_174"><thead><tr class="ijRowHead" id="-2ej0u7_175"><th id="-2ej0u7_176"><p>order</p></th><th id="-2ej0u7_177"><p>event</p></th><th id="-2ej0u7_178"><p>description</p></th><th id="-2ej0u7_179"><p>args</p></th></tr></thead><tbody><tr id="-2ej0u7_180"><td id="-2ej0u7_181"><p>0</p></td><td id="-2ej0u7_182"><p><span class="control" id="-2ej0u7_183">emu-ready</span></p></td><td id="-2ej0u7_184"><p>when emulators are fully loaded and ready to run the program</p></td><td id="-2ej0u7_185"></td></tr><tr id="-2ej0u7_186"><td id="-2ej0u7_187"><p>1</p></td><td id="-2ej0u7_188"><p><span class="control" id="-2ej0u7_189">bnd-play</span></p></td><td id="-2ej0u7_190"><p>when play button is clicked</p></td><td id="-2ej0u7_191"></td></tr><tr id="-2ej0u7_192"><td id="-2ej0u7_193"><p>2</p></td><td id="-2ej0u7_194"><p><span class="control" id="-2ej0u7_195">ci-ready</span></p></td><td id="-2ej0u7_196"><p>when backend is started and <a href="command-interface.html" id="-2ej0u7_197" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a> is available</p></td><td id="-2ej0u7_198"><p><a href="command-interface.html" id="-2ej0u7_199" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a></p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="typescript" data-toc="typescript">Typescript</h2><p id="-2ej0u7_200">js-dos provide Typescript types <a href="https://github.com/caiiiycuk/js-dos/blob/8.xx/src/public/types.ts" id="-2ej0u7_201" data-external="true" rel="noopener noreferrer">declaration</a>. Just put it somewhere in your codebase, and declare Dos function:</p><div class="code-block" data-lang="ts">
import {DosFn} from &quot;types&quot;;

declare const Dos: DosFn;

// ...

Dos(element, options)
</div><div class="code-collapse" data-lang="ts" data-is-expanded="false" data-synopsis="types.ts" data-disable-link-processing="true">export interface DosOptions {
    url: string,
    dosboxConf: string,
    background: string,
    pathPrefix: string,
    theme: &quot;light&quot; | &quot;dark&quot; | &quot;cupcake&quot; | &quot;bumblebee&quot; | &quot;emerald&quot; | &quot;corporate&quot; |
    &quot;synthwave&quot; | &quot;retro&quot; | &quot;cyberpunk&quot; | &quot;valentine&quot; | &quot;halloween&quot; | &quot;garden&quot; |
    &quot;forest&quot; | &quot;aqua&quot; | &quot;lofi&quot; | &quot;pastel&quot; | &quot;fantasy&quot; | &quot;wireframe&quot; | &quot;black&quot; |
    &quot;luxury&quot; | &quot;dracula&quot; | &quot;cmyk&quot; | &quot;autumn&quot; | &quot;business&quot; | &quot;acid&quot; | &quot;lemonade&quot; |
    &quot;night&quot; | &quot;coffee&quot; | &quot;winter&quot;,
    lang: &quot;ru&quot; | &quot;en&quot;,
    backend: &quot;dosbox&quot; | &quot;dosboxX&quot;,
    backendLocked: boolean,
    backendHardware: ((backend: &quot;dosbox&quot; | &quot;dosboxX&quot;) =&gt; Promise&lt;string | null&gt;),
    workerThread: boolean,
    mouseCapture: boolean,
    onEvent: (event: &quot;emu-ready&quot; | &quot;ci-ready&quot; | &quot;bnd-play&quot;, ci?: any) =&gt; void,
    server: &quot;netherlands&quot; | &quot;newyork&quot; | &quot;singapore&quot;,
    room: string,
    fullScreen: boolean,
}

export interface DosProps {
    setTheme(theme: DosOptions[&quot;theme&quot;]): void;
    setLang(lang: DosOptions[&quot;lang&quot;]): void;
    setBackend(backend: DosOptions[&quot;backend&quot;]): void;
    setBackendLocked(locked: boolean): void;
    setWorkerThread(capture: DosOptions[&quot;workerThread&quot;]): void;
    setMouseCapture(capture: DosOptions[&quot;mouseCapture&quot;]): void;
    setServer(server: DosOptions[&quot;server&quot;]): void;
    setRoom(room: DosOptions[&quot;room&quot;]): void;
    setFrame(frame: &quot;network&quot;): void;
    setBackground(background: string | null): void;
    setFullScreen(fullScreen: boolean): void;
}

export type DosFn = (element: HTMLDivElement, options: Partial&lt;DosOptions&gt;) =&gt; DosProps;

// declare const Dos: DosFn;
</div></section><div class="last-modified">Last modified: 14 июня 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="save-load-game-progress.html" class="navigation-links__prev">Save/Load</a><a href="v7.html" class="navigation-links__next">js-dos v7</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>