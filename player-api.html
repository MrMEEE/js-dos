<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-06-06T17:10:26.7725536"><title>Player API | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"options","level":0,"title":"Options","anchor":"#options"},{"id":"dosprops","level":0,"title":"DosProps","anchor":"#dosprops"},{"id":"events","level":0,"title":"Events","anchor":"#events"},{"id":"typescript","level":0,"title":"Typescript","anchor":"#typescript"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Player API | js-dos"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/player-api.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Player API | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/player-api.html#webpage",
    "url": "https://js-dos.com//8.xx/player-api.html",
    "name": "Player API | js-dos",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="Player-API" data-main-title="Player API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Player-API" id="Player-API.md">Player API</h1><p id="-i1cc6s_2">js-dos player provide single entry point a <code class="code" id="-i1cc6s_3">Dos</code> function, it takes two arguments:</p><ol class="list _decimal" id="-i1cc6s_4" type="1"><li class="list__item" id="-i1cc6s_5"><p>element where to create player window</p></li><li class="list__item" id="-i1cc6s_6"><p>options object to configure player</p></li></ol><div class="code-block" data-lang="ts">
Dos(element: HTMLDivElement, options: DosOptions) =&gt; DosProps;
</div><p id="-i1cc6s_8">It returns <code class="code" id="-i1cc6s_9">DosProps</code> to control created object</p><section class="chapter"><h2 id="options" data-toc="options">Options</h2><div class="table-wrapper"><table class="wide" id="-i1cc6s_10"><thead><tr class="ijRowHead" id="-i1cc6s_11"><th id="-i1cc6s_12"><p>option</p></th><th id="-i1cc6s_13"><p>description</p></th><th id="-i1cc6s_14"><p>type</p></th><th id="-i1cc6s_15"><p>default</p></th></tr></thead><tbody><tr id="-i1cc6s_16"><td id="-i1cc6s_17"><p><span class="control" id="-i1cc6s_18">url</span></p></td><td id="-i1cc6s_19"><p>url to <a href="jsdos-bundle.html" id="-i1cc6s_20" data-tooltip="Starting from js-dos v7, the API expects a js-dos bundle that already contains all configuration needed to start the DOS program. js-dos bundle is just a ZIP archive that contains the game itself and a js-dos configuration file (same as dosbox.conf file). For example, digger.jsdos…">js-dos bundle</a></p></td><td id="-i1cc6s_21"><p>URL</p></td><td id="-i1cc6s_22"></td></tr><tr id="-i1cc6s_23"><td id="-i1cc6s_24"><p><span class="control" id="-i1cc6s_25">dosboxConf</span></p></td><td id="-i1cc6s_26"><p>if you omit url this will be used to configure DOSBox</p></td><td id="-i1cc6s_27"><p>str</p></td><td id="-i1cc6s_28"></td></tr><tr id="-i1cc6s_29"><td id="-i1cc6s_30"><p><span class="control" id="-i1cc6s_31">background</span></p></td><td id="-i1cc6s_32"><p>background image of player window</p></td><td id="-i1cc6s_33"><p>URL</p></td><td id="-i1cc6s_34"></td></tr><tr id="-i1cc6s_35"><td id="-i1cc6s_36"><p><span class="control" id="-i1cc6s_37">pathPrefix</span></p></td><td id="-i1cc6s_38"><p>a way to set different path for <a href="emulators.html" id="-i1cc6s_39" data-tooltip="emulators - npm package, that provide emulator backends which can work in different environments. It is a core of js-dos, emulators has standardized api and can run emulation in different environments. Perfect solution for custom embedding.">emulators</a> deployment</p></td><td id="-i1cc6s_40"><p>str</p></td><td id="-i1cc6s_41"></td></tr><tr id="-i1cc6s_42"><td id="-i1cc6s_43"><p><span class="control" id="-i1cc6s_44">theme</span></p></td><td id="-i1cc6s_45"><p>the color theme of player</p></td><td id="-i1cc6s_46"><p>light, dark, cupcake, bumblebee, emerald, corporate, synthwave, retro, cyberpunk, valentine, halloween, garden, forest, aqua, lofi, pastel, fantasy, wireframe, black, luxury, dracula, cmyk, autumn, business, acid, lemonade, night, coffee, winter</p></td><td id="-i1cc6s_47"><p>dark</p></td></tr><tr id="-i1cc6s_48"><td id="-i1cc6s_49"><p><span class="control" id="-i1cc6s_50">lang</span></p></td><td id="-i1cc6s_51"><p>language</p></td><td id="-i1cc6s_52"><p>en, ru</p></td><td id="-i1cc6s_53"><p>auto</p></td></tr><tr id="-i1cc6s_54"><td id="-i1cc6s_55"><p><span class="control" id="-i1cc6s_56">backend</span></p></td><td id="-i1cc6s_57"><p>default backend</p></td><td id="-i1cc6s_58"><p>dosbox, dosboxX</p></td><td id="-i1cc6s_59"><p>dosbox</p></td></tr><tr id="-i1cc6s_60"><td id="-i1cc6s_61"><p><span class="control" id="-i1cc6s_62">backendLocked</span></p></td><td id="-i1cc6s_63"><p>possibility to change backend from UI</p></td><td id="-i1cc6s_64"><p>bool</p></td><td id="-i1cc6s_65"><p>false</p></td></tr><tr id="-i1cc6s_66"><td id="-i1cc6s_67"><p><span class="control" id="-i1cc6s_68">backendHardware</span></p></td><td id="-i1cc6s_69"><p>reserved</p></td><td id="-i1cc6s_70"><p>-</p></td><td id="-i1cc6s_71"></td></tr><tr id="-i1cc6s_72"><td id="-i1cc6s_73"><p><span class="control" id="-i1cc6s_74">workerThread</span></p></td><td id="-i1cc6s_75"><p>use Worker</p></td><td id="-i1cc6s_76"><p>bool</p></td><td id="-i1cc6s_77"><p>true</p></td></tr><tr id="-i1cc6s_78"><td id="-i1cc6s_79"><p><span class="control" id="-i1cc6s_80">mouseCapture</span></p></td><td id="-i1cc6s_81"><p>lock the mouse in player window</p></td><td id="-i1cc6s_82"><p>bool</p></td><td id="-i1cc6s_83"><p>false</p></td></tr><tr id="-i1cc6s_84"><td id="-i1cc6s_85"><p><span class="control" id="-i1cc6s_86">server</span></p></td><td id="-i1cc6s_87"><p>ipx server</p></td><td id="-i1cc6s_88"><p>netherlands, newyork, singapore</p></td><td id="-i1cc6s_89"><p>netherlands</p></td></tr><tr id="-i1cc6s_90"><td id="-i1cc6s_91"><p><span class="control" id="-i1cc6s_92">room</span></p></td><td id="-i1cc6s_93"><p>ipx room</p></td><td id="-i1cc6s_94"><p>str</p></td><td id="-i1cc6s_95"></td></tr><tr id="-i1cc6s_96"><td id="-i1cc6s_97"><p><span class="control" id="-i1cc6s_98">fullScreen</span></p></td><td id="-i1cc6s_99"><p>auto enter fullscreen mode</p></td><td id="-i1cc6s_100"><p>bool</p></td><td id="-i1cc6s_101"><p>false</p></td></tr><tr id="-i1cc6s_102"><td id="-i1cc6s_103"><p><span class="control" id="-i1cc6s_104">onEvent</span></p></td><td id="-i1cc6s_105"><p>listener of js-dos events</p></td><td id="-i1cc6s_106"><p>function</p></td><td id="-i1cc6s_107"></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="-i1cc6s_108"><p id="-i1cc6s_109">All options are optional</p></aside></section><section class="chapter"><h2 id="dosprops" data-toc="dosprops">DosProps</h2><p id="-i1cc6s_110">DosProps is a properties that you can use to control player after creation, use it like this:</p><div class="code-block" data-lang="javascript">
cost props = Dos(elem, options);
props.setFullScreen(true); // switch to fullscreen mode
</div><div class="table-wrapper"><table class="wide" id="-i1cc6s_112"><thead><tr class="ijRowHead" id="-i1cc6s_113"><th id="-i1cc6s_114"><p>property</p></th><th id="-i1cc6s_115"><p>description</p></th><th id="-i1cc6s_116"><p>arguments</p></th></tr></thead><tbody><tr id="-i1cc6s_117"><td id="-i1cc6s_118"><p><span class="control" id="-i1cc6s_119">setTheme</span></p></td><td id="-i1cc6s_120"><p>switch player theme</p></td><td id="-i1cc6s_121"><p>theme name</p></td></tr><tr id="-i1cc6s_122"><td id="-i1cc6s_123"><p><span class="control" id="-i1cc6s_124">setLang</span></p></td><td id="-i1cc6s_125"><p>change language</p></td><td id="-i1cc6s_126"><p>en, ru</p></td></tr><tr id="-i1cc6s_127"><td id="-i1cc6s_128"><p><span class="control" id="-i1cc6s_129">setBackend</span></p></td><td id="-i1cc6s_130"><p>change backend</p></td><td id="-i1cc6s_131"><p>dosbox, dosboxX</p></td></tr><tr id="-i1cc6s_132"><td id="-i1cc6s_133"><p><span class="control" id="-i1cc6s_134">setBackendLocked</span></p></td><td id="-i1cc6s_135"><p>change is backend locked or not</p></td><td id="-i1cc6s_136"><p>bool</p></td></tr><tr id="-i1cc6s_137"><td id="-i1cc6s_138"><p><span class="control" id="-i1cc6s_139">setWorkerThread</span></p></td><td id="-i1cc6s_140"><p>select execution mode</p></td><td id="-i1cc6s_141"><p>bool</p></td></tr><tr id="-i1cc6s_142"><td id="-i1cc6s_143"><p><span class="control" id="-i1cc6s_144">setMouseCapture</span></p></td><td id="-i1cc6s_145"><p>set is mouse captured or not</p></td><td id="-i1cc6s_146"><p>bool</p></td></tr><tr id="-i1cc6s_147"><td id="-i1cc6s_148"><p><span class="control" id="-i1cc6s_149">setServer</span></p></td><td id="-i1cc6s_150"><p>change ipx server</p></td><td id="-i1cc6s_151"><p>str</p></td></tr><tr id="-i1cc6s_152"><td id="-i1cc6s_153"><p><span class="control" id="-i1cc6s_154">setRoom</span></p></td><td id="-i1cc6s_155"><p>change ipx room</p></td><td id="-i1cc6s_156"><p>str</p></td></tr><tr id="-i1cc6s_157"><td id="-i1cc6s_158"><p><span class="control" id="-i1cc6s_159">setFrame</span></p></td><td id="-i1cc6s_160"><p>open named sidebar panel</p></td><td id="-i1cc6s_161"><p>network</p></td></tr><tr id="-i1cc6s_162"><td id="-i1cc6s_163"><p><span class="control" id="-i1cc6s_164">setBackground</span></p></td><td id="-i1cc6s_165"><p>change background image</p></td><td id="-i1cc6s_166"><p>URL</p></td></tr><tr id="-i1cc6s_167"><td id="-i1cc6s_168"><p>**setFullScreen</p></td><td id="-i1cc6s_169"><p>change fullscreen mode</p></td><td id="-i1cc6s_170"><p>bool</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="events" data-toc="events">Events</h2><p id="-i1cc6s_171">You can listen js-dos event by providing listener in Dos function:</p><div class="code-block" data-lang="javascript">
Dos(elem, {
    onEvent: (event , ci?: [[[CommandInterface|command-interface.html]]]) =&gt; {
       console.log(&quot;js-dos event&quot;, event); 
    }
});
</div><div class="table-wrapper"><table class="wide" id="-i1cc6s_173"><thead><tr class="ijRowHead" id="-i1cc6s_174"><th id="-i1cc6s_175"><p>order</p></th><th id="-i1cc6s_176"><p>event</p></th><th id="-i1cc6s_177"><p>description</p></th><th id="-i1cc6s_178"><p>args</p></th></tr></thead><tbody><tr id="-i1cc6s_179"><td id="-i1cc6s_180"><p>0</p></td><td id="-i1cc6s_181"><p><span class="control" id="-i1cc6s_182">emu-ready</span></p></td><td id="-i1cc6s_183"><p>when emulators are fully loaded and ready to run the program</p></td><td id="-i1cc6s_184"></td></tr><tr id="-i1cc6s_185"><td id="-i1cc6s_186"><p>1</p></td><td id="-i1cc6s_187"><p><span class="control" id="-i1cc6s_188">bnd-play</span></p></td><td id="-i1cc6s_189"><p>when play button is clicked</p></td><td id="-i1cc6s_190"></td></tr><tr id="-i1cc6s_191"><td id="-i1cc6s_192"><p>2</p></td><td id="-i1cc6s_193"><p><span class="control" id="-i1cc6s_194">ci-ready</span></p></td><td id="-i1cc6s_195"><p>when backend is started and <a href="command-interface.html" id="-i1cc6s_196" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a> is available</p></td><td id="-i1cc6s_197"><p><a href="command-interface.html" id="-i1cc6s_198" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a></p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="typescript" data-toc="typescript">Typescript</h2><p id="-i1cc6s_199">js-dos provide Typescript types <a href="https://github.com/caiiiycuk/js-dos/blob/8.xx/src/public/types.ts" id="-i1cc6s_200" data-external="true" rel="noopener noreferrer">declaration</a>. Just put it somewhere in your codebase, and declare Dos function:</p><div class="code-block" data-lang="ts">
import {DosFn} from &quot;types&quot;;

declare const Dos: DosFn;

// ...

Dos(element, options)
</div><div class="code-collapse" data-lang="ts" data-is-expanded="false" data-synopsis="types.ts" data-disable-link-processing="true">export interface DosOptions {
    url: string,
    dosboxConf: string,
    background: string,
    pathPrefix: string,
    theme: &quot;light&quot; | &quot;dark&quot; | &quot;cupcake&quot; | &quot;bumblebee&quot; | &quot;emerald&quot; | &quot;corporate&quot; |
    &quot;synthwave&quot; | &quot;retro&quot; | &quot;cyberpunk&quot; | &quot;valentine&quot; | &quot;halloween&quot; | &quot;garden&quot; |
    &quot;forest&quot; | &quot;aqua&quot; | &quot;lofi&quot; | &quot;pastel&quot; | &quot;fantasy&quot; | &quot;wireframe&quot; | &quot;black&quot; |
    &quot;luxury&quot; | &quot;dracula&quot; | &quot;cmyk&quot; | &quot;autumn&quot; | &quot;business&quot; | &quot;acid&quot; | &quot;lemonade&quot; |
    &quot;night&quot; | &quot;coffee&quot; | &quot;winter&quot;,
    lang: &quot;ru&quot; | &quot;en&quot;,
    backend: &quot;dosbox&quot; | &quot;dosboxX&quot;,
    backendLocked: boolean,
    backendHardware: ((backend: &quot;dosbox&quot; | &quot;dosboxX&quot;) =&gt; Promise&lt;string | null&gt;),
    workerThread: boolean,
    mouseCapture: boolean,
    onEvent: (event: &quot;emu-ready&quot; | &quot;ci-ready&quot; | &quot;bnd-play&quot;, ci?: any) =&gt; void,
    server: &quot;netherlands&quot; | &quot;newyork&quot; | &quot;singapore&quot;,
    room: string,
    fullScreen: boolean,
}

export interface DosProps {
    setTheme(theme: DosOptions[&quot;theme&quot;]): void;
    setLang(lang: DosOptions[&quot;lang&quot;]): void;
    setBackend(backend: DosOptions[&quot;backend&quot;]): void;
    setBackendLocked(locked: boolean): void;
    setWorkerThread(capture: DosOptions[&quot;workerThread&quot;]): void;
    setMouseCapture(capture: DosOptions[&quot;mouseCapture&quot;]): void;
    setServer(server: DosOptions[&quot;server&quot;]): void;
    setRoom(room: DosOptions[&quot;room&quot;]): void;
    setFrame(frame: &quot;network&quot;): void;
    setBackground(background: string | null): void;
    setFullScreen(fullScreen: boolean): void;
}

export type DosFn = (element: HTMLDivElement, options: Partial&lt;DosOptions&gt;) =&gt; DosProps;

// declare const Dos: DosFn;
</div></section><div class="last-modified">Last modified: 06 июня 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="save-load-game-progress.html" class="navigation-links__prev">Save/Load</a><a href="v7.html" class="navigation-links__next">js-dos v7</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>