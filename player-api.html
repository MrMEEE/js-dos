<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-26T17:07:30.6669527"><title>Player API | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"options","level":0,"title":"Options","anchor":"#options"},{"id":"dosprops","level":0,"title":"DosProps","anchor":"#dosprops"},{"id":"events","level":0,"title":"Events","anchor":"#events"},{"id":"typescript","level":0,"title":"Typescript","anchor":"#typescript"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Player API | js-dos"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/player-api.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Player API | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/player-api.html#webpage",
    "url": "https://js-dos.com//8.xx/player-api.html",
    "name": "Player API | js-dos",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="Player-API" data-main-title="Player API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Player-API" id="Player-API.md">Player API</h1><p id="whr9bg_22221">js-dos player provide single entry point a <code class="code" id="whr9bg_22222">Dos</code> function, it takes two arguments:</p><ol class="list _decimal" id="whr9bg_22223" type="1"><li class="list__item" id="whr9bg_22224"><p>element where to create player window</p></li><li class="list__item" id="whr9bg_22225"><p>options object to configure player</p></li></ol><div class="code-block" data-lang="ts">
Dos(element: HTMLDivElement, options: DosOptions) =&gt; DosProps;
</div><p id="whr9bg_22227">It returns <code class="code" id="whr9bg_22228">DosProps</code> to control created object</p><section class="chapter"><h2 id="options" data-toc="options">Options</h2><div class="table-wrapper"><table class="wide" id="whr9bg_22229"><thead><tr class="ijRowHead" id="whr9bg_22230"><th id="whr9bg_22231"><p>option</p></th><th id="whr9bg_22232"><p>description</p></th><th id="whr9bg_22233"><p>type</p></th><th id="whr9bg_22234"><p>default</p></th></tr></thead><tbody><tr id="whr9bg_22235"><td id="whr9bg_22236"><p><span class="control" id="whr9bg_22237">url</span></p></td><td id="whr9bg_22238"><p>url to <a href="jsdos-bundle.html" id="whr9bg_22239" data-tooltip="Starting from js-dos v7, the API expects a js-dos bundle that already contains all configuration needed to start the DOS program. js-dos bundle is just a ZIP archive that contains the game itself and a js-dos configuration file (same as dosbox.conf file). For example, digger.jsdos…">js-dos bundle</a></p></td><td id="whr9bg_22240"><p>URL</p></td><td id="whr9bg_22241"></td></tr><tr id="whr9bg_22242"><td id="whr9bg_22243"><p><span class="control" id="whr9bg_22244">dosboxConf</span></p></td><td id="whr9bg_22245"><p>if you omit url this will be used to configure DOSBox</p></td><td id="whr9bg_22246"><p>str</p></td><td id="whr9bg_22247"></td></tr><tr id="whr9bg_22248"><td id="whr9bg_22249"><p><span class="control" id="whr9bg_22250">background</span></p></td><td id="whr9bg_22251"><p>background image of player window</p></td><td id="whr9bg_22252"><p>URL</p></td><td id="whr9bg_22253"></td></tr><tr id="whr9bg_22254"><td id="whr9bg_22255"><p><span class="control" id="whr9bg_22256">pathPrefix</span></p></td><td id="whr9bg_22257"><p>a way to set different path for <a href="emulators.html" id="whr9bg_22258" data-tooltip="emulators - npm package, that provide emulator backends which can work in different environments. It is a core of js-dos, emulators has standardized api and can run emulation in different environments. Perfect solution for custom embedding.">emulators</a> deployment</p></td><td id="whr9bg_22259"><p>str</p></td><td id="whr9bg_22260"></td></tr><tr id="whr9bg_22261"><td id="whr9bg_22262"><p><span class="control" id="whr9bg_22263">theme</span></p></td><td id="whr9bg_22264"><p>the color theme of player</p></td><td id="whr9bg_22265"><p>light, dark, cupcake, bumblebee, emerald, corporate, synthwave, retro, cyberpunk, valentine, halloween, garden, forest, aqua, lofi, pastel, fantasy, wireframe, black, luxury, dracula, cmyk, autumn, business, acid, lemonade, night, coffee, winter</p></td><td id="whr9bg_22266"><p>dark</p></td></tr><tr id="whr9bg_22267"><td id="whr9bg_22268"><p><span class="control" id="whr9bg_22269">lang</span></p></td><td id="whr9bg_22270"><p>language</p></td><td id="whr9bg_22271"><p>en, ru</p></td><td id="whr9bg_22272"><p>auto</p></td></tr><tr id="whr9bg_22273"><td id="whr9bg_22274"><p><span class="control" id="whr9bg_22275">backend</span></p></td><td id="whr9bg_22276"><p>default backend</p></td><td id="whr9bg_22277"><p>dosbox, dosboxX</p></td><td id="whr9bg_22278"><p>dosbox</p></td></tr><tr id="whr9bg_22279"><td id="whr9bg_22280"><p><span class="control" id="whr9bg_22281">backendLocked</span></p></td><td id="whr9bg_22282"><p>possibility to change backend from UI</p></td><td id="whr9bg_22283"><p>bool</p></td><td id="whr9bg_22284"><p>false</p></td></tr><tr id="whr9bg_22285"><td id="whr9bg_22286"><p><span class="control" id="whr9bg_22287">backendHardware</span></p></td><td id="whr9bg_22288"><p>reserved</p></td><td id="whr9bg_22289"><p>-</p></td><td id="whr9bg_22290"></td></tr><tr id="whr9bg_22291"><td id="whr9bg_22292"><p><span class="control" id="whr9bg_22293">workerThread</span></p></td><td id="whr9bg_22294"><p>use Worker</p></td><td id="whr9bg_22295"><p>bool</p></td><td id="whr9bg_22296"><p>true</p></td></tr><tr id="whr9bg_22297"><td id="whr9bg_22298"><p><span class="control" id="whr9bg_22299">mouseCapture</span></p></td><td id="whr9bg_22300"><p>lock the mouse in player window</p></td><td id="whr9bg_22301"><p>bool</p></td><td id="whr9bg_22302"><p>false</p></td></tr><tr id="whr9bg_22303"><td id="whr9bg_22304"><p><span class="control" id="whr9bg_22305">server</span></p></td><td id="whr9bg_22306"><p>ipx server</p></td><td id="whr9bg_22307"><p>netherlands, newyork, singapore</p></td><td id="whr9bg_22308"><p>netherlands</p></td></tr><tr id="whr9bg_22309"><td id="whr9bg_22310"><p><span class="control" id="whr9bg_22311">room</span></p></td><td id="whr9bg_22312"><p>ipx room</p></td><td id="whr9bg_22313"><p>str</p></td><td id="whr9bg_22314"></td></tr><tr id="whr9bg_22315"><td id="whr9bg_22316"><p><span class="control" id="whr9bg_22317">fullScreen</span></p></td><td id="whr9bg_22318"><p>auto enter fullscreen mode</p></td><td id="whr9bg_22319"><p>bool</p></td><td id="whr9bg_22320"><p>false</p></td></tr><tr id="whr9bg_22321"><td id="whr9bg_22322"><p><span class="control" id="whr9bg_22323">onEvent</span></p></td><td id="whr9bg_22324"><p>listener of js-dos events</p></td><td id="whr9bg_22325"><p>function</p></td><td id="whr9bg_22326"></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="whr9bg_22327"><p id="whr9bg_22328">All options are optional</p></aside></section><section class="chapter"><h2 id="dosprops" data-toc="dosprops">DosProps</h2><p id="whr9bg_22329">DosProps is a properties that you can use to control player after creation, use it like this:</p><div class="code-block" data-lang="javascript">
cost props = Dos(elem, options);
props.setFullScreen(true); // switch to fullscreen mode
</div><div class="table-wrapper"><table class="wide" id="whr9bg_22331"><thead><tr class="ijRowHead" id="whr9bg_22332"><th id="whr9bg_22333"><p>property</p></th><th id="whr9bg_22334"><p>description</p></th><th id="whr9bg_22335"><p>arguments</p></th></tr></thead><tbody><tr id="whr9bg_22336"><td id="whr9bg_22337"><p><span class="control" id="whr9bg_22338">setTheme</span></p></td><td id="whr9bg_22339"><p>switch player theme</p></td><td id="whr9bg_22340"><p>theme name</p></td></tr><tr id="whr9bg_22341"><td id="whr9bg_22342"><p><span class="control" id="whr9bg_22343">setLang</span></p></td><td id="whr9bg_22344"><p>change language</p></td><td id="whr9bg_22345"><p>en, ru</p></td></tr><tr id="whr9bg_22346"><td id="whr9bg_22347"><p><span class="control" id="whr9bg_22348">setBackend</span></p></td><td id="whr9bg_22349"><p>change backend</p></td><td id="whr9bg_22350"><p>dosbox, dosboxX</p></td></tr><tr id="whr9bg_22351"><td id="whr9bg_22352"><p><span class="control" id="whr9bg_22353">setBackendLocked</span></p></td><td id="whr9bg_22354"><p>change is backend locked or not</p></td><td id="whr9bg_22355"><p>bool</p></td></tr><tr id="whr9bg_22356"><td id="whr9bg_22357"><p><span class="control" id="whr9bg_22358">setWorkerThread</span></p></td><td id="whr9bg_22359"><p>select execution mode</p></td><td id="whr9bg_22360"><p>bool</p></td></tr><tr id="whr9bg_22361"><td id="whr9bg_22362"><p><span class="control" id="whr9bg_22363">setMouseCapture</span></p></td><td id="whr9bg_22364"><p>set is mouse captured or not</p></td><td id="whr9bg_22365"><p>bool</p></td></tr><tr id="whr9bg_22366"><td id="whr9bg_22367"><p><span class="control" id="whr9bg_22368">setServer</span></p></td><td id="whr9bg_22369"><p>change ipx server</p></td><td id="whr9bg_22370"><p>str</p></td></tr><tr id="whr9bg_22371"><td id="whr9bg_22372"><p><span class="control" id="whr9bg_22373">setRoom</span></p></td><td id="whr9bg_22374"><p>change ipx room</p></td><td id="whr9bg_22375"><p>str</p></td></tr><tr id="whr9bg_22376"><td id="whr9bg_22377"><p><span class="control" id="whr9bg_22378">setFrame</span></p></td><td id="whr9bg_22379"><p>open named sidebar panel</p></td><td id="whr9bg_22380"><p>network</p></td></tr><tr id="whr9bg_22381"><td id="whr9bg_22382"><p><span class="control" id="whr9bg_22383">setBackground</span></p></td><td id="whr9bg_22384"><p>change background image</p></td><td id="whr9bg_22385"><p>URL</p></td></tr><tr id="whr9bg_22386"><td id="whr9bg_22387"><p>**setFullScreen</p></td><td id="whr9bg_22388"><p>change fullscreen mode</p></td><td id="whr9bg_22389"><p>bool</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="events" data-toc="events">Events</h2><p id="whr9bg_22390">You can listen js-dos event by providing listener in Dos function:</p><div class="code-block" data-lang="javascript">
Dos(elem, {
    onEvent: (event , ci?: [[[CommandInterface|command-interface.html]]]) =&gt; {
       console.log(&quot;js-dos event&quot;, event); 
    }
});
</div><div class="table-wrapper"><table class="wide" id="whr9bg_22392"><thead><tr class="ijRowHead" id="whr9bg_22393"><th id="whr9bg_22394"><p>order</p></th><th id="whr9bg_22395"><p>event</p></th><th id="whr9bg_22396"><p>description</p></th><th id="whr9bg_22397"><p>args</p></th></tr></thead><tbody><tr id="whr9bg_22398"><td id="whr9bg_22399"><p>0</p></td><td id="whr9bg_22400"><p><span class="control" id="whr9bg_22401">emu-ready</span></p></td><td id="whr9bg_22402"><p>when emulators are fully loaded and ready to run the program</p></td><td id="whr9bg_22403"></td></tr><tr id="whr9bg_22404"><td id="whr9bg_22405"><p>1</p></td><td id="whr9bg_22406"><p><span class="control" id="whr9bg_22407">bnd-play</span></p></td><td id="whr9bg_22408"><p>when play button is clicked</p></td><td id="whr9bg_22409"></td></tr><tr id="whr9bg_22410"><td id="whr9bg_22411"><p>2</p></td><td id="whr9bg_22412"><p><span class="control" id="whr9bg_22413">ci-ready</span></p></td><td id="whr9bg_22414"><p>when backend is started and <a href="command-interface.html" id="whr9bg_22415" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a> is available</p></td><td id="whr9bg_22416"><p><a href="command-interface.html" id="whr9bg_22417" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a></p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="typescript" data-toc="typescript">Typescript</h2><p id="whr9bg_22418">js-dos provide Typescript types <a href="https://github.com/caiiiycuk/js-dos/blob/8.xx/src/public/types.ts" id="whr9bg_22419" data-external="true" rel="noopener noreferrer">declaration</a>. Just put it somewhere in your codebase, and declare Dos function:</p><div class="code-block" data-lang="ts">
import {DosFn} from &quot;types&quot;;

declare const Dos: DosFn;

// ...

Dos(element, options)
</div><div class="code-collapse" data-lang="ts" data-is-expanded="false" data-synopsis="types.ts" data-disable-link-processing="true">export interface DosOptions {
    url: string,
    dosboxConf: string,
    background: string,
    pathPrefix: string,
    theme: &quot;light&quot; | &quot;dark&quot; | &quot;cupcake&quot; | &quot;bumblebee&quot; | &quot;emerald&quot; | &quot;corporate&quot; |
    &quot;synthwave&quot; | &quot;retro&quot; | &quot;cyberpunk&quot; | &quot;valentine&quot; | &quot;halloween&quot; | &quot;garden&quot; |
    &quot;forest&quot; | &quot;aqua&quot; | &quot;lofi&quot; | &quot;pastel&quot; | &quot;fantasy&quot; | &quot;wireframe&quot; | &quot;black&quot; |
    &quot;luxury&quot; | &quot;dracula&quot; | &quot;cmyk&quot; | &quot;autumn&quot; | &quot;business&quot; | &quot;acid&quot; | &quot;lemonade&quot; |
    &quot;night&quot; | &quot;coffee&quot; | &quot;winter&quot;,
    lang: &quot;ru&quot; | &quot;en&quot;,
    backend: &quot;dosbox&quot; | &quot;dosboxX&quot;,
    backendLocked: boolean,
    backendHardware: ((backend: &quot;dosbox&quot; | &quot;dosboxX&quot;) =&gt; Promise&lt;string | null&gt;),
    workerThread: boolean,
    mouseCapture: boolean,
    onEvent: (event: &quot;emu-ready&quot; | &quot;ci-ready&quot; | &quot;bnd-play&quot;, ci?: any) =&gt; void,
    server: &quot;netherlands&quot; | &quot;newyork&quot; | &quot;singapore&quot;,
    room: string,
    fullScreen: boolean,
}

export interface DosProps {
    setTheme(theme: DosOptions[&quot;theme&quot;]): void;
    setLang(lang: DosOptions[&quot;lang&quot;]): void;
    setBackend(backend: DosOptions[&quot;backend&quot;]): void;
    setBackendLocked(locked: boolean): void;
    setWorkerThread(capture: DosOptions[&quot;workerThread&quot;]): void;
    setMouseCapture(capture: DosOptions[&quot;mouseCapture&quot;]): void;
    setServer(server: DosOptions[&quot;server&quot;]): void;
    setRoom(room: DosOptions[&quot;room&quot;]): void;
    setFrame(frame: &quot;network&quot;): void;
    setBackground(background: string | null): void;
    setFullScreen(fullScreen: boolean): void;
}

export type DosFn = (element: HTMLDivElement, options: Partial&lt;DosOptions&gt;) =&gt; DosProps;

// declare const Dos: DosFn;
</div></section><div class="last-modified">Last modified: 26 апреля 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="save-load-game-progress.html" class="navigation-links__prev">Save/Load</a><a href="v7.html" class="navigation-links__next">js-dos v7</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>