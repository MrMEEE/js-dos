<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-05-29T18:18:47.5945465"><title>Player API | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"options","level":0,"title":"Options","anchor":"#options"},{"id":"dosprops","level":0,"title":"DosProps","anchor":"#dosprops"},{"id":"events","level":0,"title":"Events","anchor":"#events"},{"id":"typescript","level":0,"title":"Typescript","anchor":"#typescript"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Player API | js-dos"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/player-api.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Player API | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/player-api.html#webpage",
    "url": "https://js-dos.com//8.xx/player-api.html",
    "name": "Player API | js-dos",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="Player-API" data-main-title="Player API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Player-API" id="Player-API.md">Player API</h1><p id="-x24obk_406">js-dos player provide single entry point a <code class="code" id="-x24obk_407">Dos</code> function, it takes two arguments:</p><ol class="list _decimal" id="-x24obk_408" type="1"><li class="list__item" id="-x24obk_409"><p>element where to create player window</p></li><li class="list__item" id="-x24obk_410"><p>options object to configure player</p></li></ol><div class="code-block" data-lang="ts">
Dos(element: HTMLDivElement, options: DosOptions) =&gt; DosProps;
</div><p id="-x24obk_412">It returns <code class="code" id="-x24obk_413">DosProps</code> to control created object</p><section class="chapter"><h2 id="options" data-toc="options">Options</h2><div class="table-wrapper"><table class="wide" id="-x24obk_414"><thead><tr class="ijRowHead" id="-x24obk_415"><th id="-x24obk_416"><p>option</p></th><th id="-x24obk_417"><p>description</p></th><th id="-x24obk_418"><p>type</p></th><th id="-x24obk_419"><p>default</p></th></tr></thead><tbody><tr id="-x24obk_420"><td id="-x24obk_421"><p><span class="control" id="-x24obk_422">url</span></p></td><td id="-x24obk_423"><p>url to <a href="jsdos-bundle.html" id="-x24obk_424" data-tooltip="Starting from js-dos v7, the API expects a js-dos bundle that already contains all configuration needed to start the DOS program. js-dos bundle is just a ZIP archive that contains the game itself and a js-dos configuration file (same as dosbox.conf file). For example, digger.jsdos…">js-dos bundle</a></p></td><td id="-x24obk_425"><p>URL</p></td><td id="-x24obk_426"></td></tr><tr id="-x24obk_427"><td id="-x24obk_428"><p><span class="control" id="-x24obk_429">dosboxConf</span></p></td><td id="-x24obk_430"><p>if you omit url this will be used to configure DOSBox</p></td><td id="-x24obk_431"><p>str</p></td><td id="-x24obk_432"></td></tr><tr id="-x24obk_433"><td id="-x24obk_434"><p><span class="control" id="-x24obk_435">background</span></p></td><td id="-x24obk_436"><p>background image of player window</p></td><td id="-x24obk_437"><p>URL</p></td><td id="-x24obk_438"></td></tr><tr id="-x24obk_439"><td id="-x24obk_440"><p><span class="control" id="-x24obk_441">pathPrefix</span></p></td><td id="-x24obk_442"><p>a way to set different path for <a href="emulators.html" id="-x24obk_443" data-tooltip="emulators - npm package, that provide emulator backends which can work in different environments. It is a core of js-dos, emulators has standardized api and can run emulation in different environments. Perfect solution for custom embedding.">emulators</a> deployment</p></td><td id="-x24obk_444"><p>str</p></td><td id="-x24obk_445"></td></tr><tr id="-x24obk_446"><td id="-x24obk_447"><p><span class="control" id="-x24obk_448">theme</span></p></td><td id="-x24obk_449"><p>the color theme of player</p></td><td id="-x24obk_450"><p>light, dark, cupcake, bumblebee, emerald, corporate, synthwave, retro, cyberpunk, valentine, halloween, garden, forest, aqua, lofi, pastel, fantasy, wireframe, black, luxury, dracula, cmyk, autumn, business, acid, lemonade, night, coffee, winter</p></td><td id="-x24obk_451"><p>dark</p></td></tr><tr id="-x24obk_452"><td id="-x24obk_453"><p><span class="control" id="-x24obk_454">lang</span></p></td><td id="-x24obk_455"><p>language</p></td><td id="-x24obk_456"><p>en, ru</p></td><td id="-x24obk_457"><p>auto</p></td></tr><tr id="-x24obk_458"><td id="-x24obk_459"><p><span class="control" id="-x24obk_460">backend</span></p></td><td id="-x24obk_461"><p>default backend</p></td><td id="-x24obk_462"><p>dosbox, dosboxX</p></td><td id="-x24obk_463"><p>dosbox</p></td></tr><tr id="-x24obk_464"><td id="-x24obk_465"><p><span class="control" id="-x24obk_466">backendLocked</span></p></td><td id="-x24obk_467"><p>possibility to change backend from UI</p></td><td id="-x24obk_468"><p>bool</p></td><td id="-x24obk_469"><p>false</p></td></tr><tr id="-x24obk_470"><td id="-x24obk_471"><p><span class="control" id="-x24obk_472">backendHardware</span></p></td><td id="-x24obk_473"><p>reserved</p></td><td id="-x24obk_474"><p>-</p></td><td id="-x24obk_475"></td></tr><tr id="-x24obk_476"><td id="-x24obk_477"><p><span class="control" id="-x24obk_478">workerThread</span></p></td><td id="-x24obk_479"><p>use Worker</p></td><td id="-x24obk_480"><p>bool</p></td><td id="-x24obk_481"><p>true</p></td></tr><tr id="-x24obk_482"><td id="-x24obk_483"><p><span class="control" id="-x24obk_484">mouseCapture</span></p></td><td id="-x24obk_485"><p>lock the mouse in player window</p></td><td id="-x24obk_486"><p>bool</p></td><td id="-x24obk_487"><p>false</p></td></tr><tr id="-x24obk_488"><td id="-x24obk_489"><p><span class="control" id="-x24obk_490">server</span></p></td><td id="-x24obk_491"><p>ipx server</p></td><td id="-x24obk_492"><p>netherlands, newyork, singapore</p></td><td id="-x24obk_493"><p>netherlands</p></td></tr><tr id="-x24obk_494"><td id="-x24obk_495"><p><span class="control" id="-x24obk_496">room</span></p></td><td id="-x24obk_497"><p>ipx room</p></td><td id="-x24obk_498"><p>str</p></td><td id="-x24obk_499"></td></tr><tr id="-x24obk_500"><td id="-x24obk_501"><p><span class="control" id="-x24obk_502">fullScreen</span></p></td><td id="-x24obk_503"><p>auto enter fullscreen mode</p></td><td id="-x24obk_504"><p>bool</p></td><td id="-x24obk_505"><p>false</p></td></tr><tr id="-x24obk_506"><td id="-x24obk_507"><p><span class="control" id="-x24obk_508">onEvent</span></p></td><td id="-x24obk_509"><p>listener of js-dos events</p></td><td id="-x24obk_510"><p>function</p></td><td id="-x24obk_511"></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="-x24obk_512"><p id="-x24obk_513">All options are optional</p></aside></section><section class="chapter"><h2 id="dosprops" data-toc="dosprops">DosProps</h2><p id="-x24obk_514">DosProps is a properties that you can use to control player after creation, use it like this:</p><div class="code-block" data-lang="javascript">
cost props = Dos(elem, options);
props.setFullScreen(true); // switch to fullscreen mode
</div><div class="table-wrapper"><table class="wide" id="-x24obk_516"><thead><tr class="ijRowHead" id="-x24obk_517"><th id="-x24obk_518"><p>property</p></th><th id="-x24obk_519"><p>description</p></th><th id="-x24obk_520"><p>arguments</p></th></tr></thead><tbody><tr id="-x24obk_521"><td id="-x24obk_522"><p><span class="control" id="-x24obk_523">setTheme</span></p></td><td id="-x24obk_524"><p>switch player theme</p></td><td id="-x24obk_525"><p>theme name</p></td></tr><tr id="-x24obk_526"><td id="-x24obk_527"><p><span class="control" id="-x24obk_528">setLang</span></p></td><td id="-x24obk_529"><p>change language</p></td><td id="-x24obk_530"><p>en, ru</p></td></tr><tr id="-x24obk_531"><td id="-x24obk_532"><p><span class="control" id="-x24obk_533">setBackend</span></p></td><td id="-x24obk_534"><p>change backend</p></td><td id="-x24obk_535"><p>dosbox, dosboxX</p></td></tr><tr id="-x24obk_536"><td id="-x24obk_537"><p><span class="control" id="-x24obk_538">setBackendLocked</span></p></td><td id="-x24obk_539"><p>change is backend locked or not</p></td><td id="-x24obk_540"><p>bool</p></td></tr><tr id="-x24obk_541"><td id="-x24obk_542"><p><span class="control" id="-x24obk_543">setWorkerThread</span></p></td><td id="-x24obk_544"><p>select execution mode</p></td><td id="-x24obk_545"><p>bool</p></td></tr><tr id="-x24obk_546"><td id="-x24obk_547"><p><span class="control" id="-x24obk_548">setMouseCapture</span></p></td><td id="-x24obk_549"><p>set is mouse captured or not</p></td><td id="-x24obk_550"><p>bool</p></td></tr><tr id="-x24obk_551"><td id="-x24obk_552"><p><span class="control" id="-x24obk_553">setServer</span></p></td><td id="-x24obk_554"><p>change ipx server</p></td><td id="-x24obk_555"><p>str</p></td></tr><tr id="-x24obk_556"><td id="-x24obk_557"><p><span class="control" id="-x24obk_558">setRoom</span></p></td><td id="-x24obk_559"><p>change ipx room</p></td><td id="-x24obk_560"><p>str</p></td></tr><tr id="-x24obk_561"><td id="-x24obk_562"><p><span class="control" id="-x24obk_563">setFrame</span></p></td><td id="-x24obk_564"><p>open named sidebar panel</p></td><td id="-x24obk_565"><p>network</p></td></tr><tr id="-x24obk_566"><td id="-x24obk_567"><p><span class="control" id="-x24obk_568">setBackground</span></p></td><td id="-x24obk_569"><p>change background image</p></td><td id="-x24obk_570"><p>URL</p></td></tr><tr id="-x24obk_571"><td id="-x24obk_572"><p>**setFullScreen</p></td><td id="-x24obk_573"><p>change fullscreen mode</p></td><td id="-x24obk_574"><p>bool</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="events" data-toc="events">Events</h2><p id="-x24obk_575">You can listen js-dos event by providing listener in Dos function:</p><div class="code-block" data-lang="javascript">
Dos(elem, {
    onEvent: (event , ci?: [[[CommandInterface|command-interface.html]]]) =&gt; {
       console.log(&quot;js-dos event&quot;, event); 
    }
});
</div><div class="table-wrapper"><table class="wide" id="-x24obk_577"><thead><tr class="ijRowHead" id="-x24obk_578"><th id="-x24obk_579"><p>order</p></th><th id="-x24obk_580"><p>event</p></th><th id="-x24obk_581"><p>description</p></th><th id="-x24obk_582"><p>args</p></th></tr></thead><tbody><tr id="-x24obk_583"><td id="-x24obk_584"><p>0</p></td><td id="-x24obk_585"><p><span class="control" id="-x24obk_586">emu-ready</span></p></td><td id="-x24obk_587"><p>when emulators are fully loaded and ready to run the program</p></td><td id="-x24obk_588"></td></tr><tr id="-x24obk_589"><td id="-x24obk_590"><p>1</p></td><td id="-x24obk_591"><p><span class="control" id="-x24obk_592">bnd-play</span></p></td><td id="-x24obk_593"><p>when play button is clicked</p></td><td id="-x24obk_594"></td></tr><tr id="-x24obk_595"><td id="-x24obk_596"><p>2</p></td><td id="-x24obk_597"><p><span class="control" id="-x24obk_598">ci-ready</span></p></td><td id="-x24obk_599"><p>when backend is started and <a href="command-interface.html" id="-x24obk_600" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a> is available</p></td><td id="-x24obk_601"><p><a href="command-interface.html" id="-x24obk_602" data-tooltip="The Command Interface is only one object that allows you to communicate with js-dos instance. Once you run some js-dos bundle you will receive Command Interface instance.">CommandInterface</a></p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="typescript" data-toc="typescript">Typescript</h2><p id="-x24obk_603">js-dos provide Typescript types <a href="https://github.com/caiiiycuk/js-dos/blob/8.xx/src/public/types.ts" id="-x24obk_604" data-external="true" rel="noopener noreferrer">declaration</a>. Just put it somewhere in your codebase, and declare Dos function:</p><div class="code-block" data-lang="ts">
import {DosFn} from &quot;types&quot;;

declare const Dos: DosFn;

// ...

Dos(element, options)
</div><div class="code-collapse" data-lang="ts" data-is-expanded="false" data-synopsis="types.ts" data-disable-link-processing="true">export interface DosOptions {
    url: string,
    dosboxConf: string,
    background: string,
    pathPrefix: string,
    theme: &quot;light&quot; | &quot;dark&quot; | &quot;cupcake&quot; | &quot;bumblebee&quot; | &quot;emerald&quot; | &quot;corporate&quot; |
    &quot;synthwave&quot; | &quot;retro&quot; | &quot;cyberpunk&quot; | &quot;valentine&quot; | &quot;halloween&quot; | &quot;garden&quot; |
    &quot;forest&quot; | &quot;aqua&quot; | &quot;lofi&quot; | &quot;pastel&quot; | &quot;fantasy&quot; | &quot;wireframe&quot; | &quot;black&quot; |
    &quot;luxury&quot; | &quot;dracula&quot; | &quot;cmyk&quot; | &quot;autumn&quot; | &quot;business&quot; | &quot;acid&quot; | &quot;lemonade&quot; |
    &quot;night&quot; | &quot;coffee&quot; | &quot;winter&quot;,
    lang: &quot;ru&quot; | &quot;en&quot;,
    backend: &quot;dosbox&quot; | &quot;dosboxX&quot;,
    backendLocked: boolean,
    backendHardware: ((backend: &quot;dosbox&quot; | &quot;dosboxX&quot;) =&gt; Promise&lt;string | null&gt;),
    workerThread: boolean,
    mouseCapture: boolean,
    onEvent: (event: &quot;emu-ready&quot; | &quot;ci-ready&quot; | &quot;bnd-play&quot;, ci?: any) =&gt; void,
    server: &quot;netherlands&quot; | &quot;newyork&quot; | &quot;singapore&quot;,
    room: string,
    fullScreen: boolean,
}

export interface DosProps {
    setTheme(theme: DosOptions[&quot;theme&quot;]): void;
    setLang(lang: DosOptions[&quot;lang&quot;]): void;
    setBackend(backend: DosOptions[&quot;backend&quot;]): void;
    setBackendLocked(locked: boolean): void;
    setWorkerThread(capture: DosOptions[&quot;workerThread&quot;]): void;
    setMouseCapture(capture: DosOptions[&quot;mouseCapture&quot;]): void;
    setServer(server: DosOptions[&quot;server&quot;]): void;
    setRoom(room: DosOptions[&quot;room&quot;]): void;
    setFrame(frame: &quot;network&quot;): void;
    setBackground(background: string | null): void;
    setFullScreen(fullScreen: boolean): void;
}

export type DosFn = (element: HTMLDivElement, options: Partial&lt;DosOptions&gt;) =&gt; DosProps;

// declare const Dos: DosFn;
</div></section><div class="last-modified">Last modified: 29 мая 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="save-load-game-progress.html" class="navigation-links__prev">Save/Load</a><a href="v7.html" class="navigation-links__next">js-dos v7</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>